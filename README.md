# 🚀 Reposter - Автоматический репостер для социальных сетей

[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![React](https://img.shields.io/badge/React-18+-blue.svg)](https://reactjs.org/)
[![Express](https://img.shields.io/badge/Express-5+-black.svg)](https://expressjs.com/)
[![SQLite](https://img.shields.io/badge/SQLite-3+-yellow.svg)](https://sqlite.org/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

**Reposter** - это мощное веб-приложение для автоматического репостинга контента из WordPress сайтов в социальные сети (Telegram, VK). Приложение предоставляет удобный интерфейс для настройки и управления задачами репостинга.

## ✨ Основные возможности

- 🔄 **Автоматический репостинг** из WordPress в Telegram и VK
- 📅 **Гибкое планирование** - настраиваемые интервалы публикации
- 🎯 **Умная фильтрация** - по датам, категориям, тегам
- 📝 **Шаблоны сообщений** - настраиваемые форматы постов
- 📊 **Детальная статистика** - отслеживание прогресса и результатов
- 🔐 **Безопасная аутентификация** - JWT токены
- 💾 **Кэширование постов** - быстрая работа с большими объемами данных
- 📱 **Адаптивный интерфейс** - работает на всех устройствах

## 🏗️ Архитектура

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Frontend      │    │   Backend       │    │   Database      │
│   (React)       │◄──►│   (Express.js)  │◄──►│   (SQLite)      │
│   Port: 3000    │    │   Port: 5000    │    │                 │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   WordPress     │    │   Telegram API  │    │   VK API        │
│   (Источник)    │    │   (Назначение)  │    │   (Назначение)  │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## 🚀 Быстрый старт

### Предварительные требования

- **Node.js** версии 18 или выше
- **npm** или **yarn**
- **Git**

### Установка и запуск

1. **Клонирование репозитория**
   ```bash
   git clone https://github.com/maxbaydi/social-reposter.git
   cd social-reposter
   ```

2. **Установка зависимостей**
   ```bash
   # Установка зависимостей для сервера
   cd server && npm install && cd ..
   
   # Установка зависимостей для фронтенда
   cd front && npm install && cd ..
   ```

3. **Настройка окружения**
   ```bash
   # Копируем пример файла окружения
   cp server/.env.example server/.env
   
   # Редактируем настройки
   nano server/.env
   ```

4. **Запуск приложения**
   ```bash
   # Делаем скрипты исполняемыми
   chmod +x *.sh
   
   # Запускаем все серверы
   ./start-servers.sh
   ```

5. **Открываем приложение**
   - Frontend: http://localhost:3000
   - API: http://localhost:5000

## 📋 Управление серверами

### Основные команды

```bash
# Запуск всех серверов
./start-servers.sh

# Остановка всех серверов
./stop-servers.sh

# Перезапуск серверов
./restart-servers.sh

# Проверка статуса
./status-servers.sh
```

### Диагностика и исправление

```bash
# Диагностика проблем с постами
./fix-posts-progress.sh

# Автоматическое исправление прогресса задач
./fix-progress.sh
```

## 🔧 Настройка

### Переменные окружения (server/.env)

```env
# Порт сервера
PORT=5000

# Секретный ключ для JWT
JWT_SECRET=your-secret-key-here

# Настройки базы данных
DB_DIALECT=sqlite
DB_STORAGE=./database.sqlite

# Настройки почты (опционально)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Настройки VK API (опционально)
VK_API_KEY=your-vk-api-key
```

### Подключение аккаунтов

1. **WordPress аккаунт** - источник контента
   - URL сайта
   - Имя пользователя
   - Application Password

2. **Telegram аккаунт** - назначение
   - Bot Token
   - Channel ID

3. **VK аккаунт** - назначение
   - API Key
   - Group ID

## 📊 Функциональность

### Запланированные задачи
- Настройка интервалов публикации
- Фильтрация по датам и категориям
- Выбор порядка публикации (старые/новые/случайно)
- Шаблоны сообщений

### Live репостинг
- Мгновенная публикация новых постов
- Автоматическое кэширование
- Уведомления о новых публикациях

### Статистика и мониторинг
- Прогресс выполнения задач
- Количество опубликованных постов
- Ошибки и логи
- Использование ресурсов

## 🛠️ Технологический стек

### Frontend
- **React 18** - пользовательский интерфейс
- **Vite** - сборка и разработка
- **Tailwind CSS** - стилизация
- **Lucide React** - иконки
- **Axios** - HTTP клиент

### Backend
- **Express.js 5** - веб-сервер
- **Sequelize** - ORM для базы данных
- **SQLite** - база данных
- **JWT** - аутентификация
- **Node-cron** - планировщик задач

### Интеграции
- **WordPress REST API** - получение постов
- **Telegram Bot API** - публикация в Telegram
- **VK API** - публикация в VK
- **Nodemailer** - отправка уведомлений

## 📁 Структура проекта

```
social-reposter/
├── front/                 # React фронтенд
│   ├── src/              # Исходный код
│   ├── dist/             # Сборка
│   └── package.json      # Зависимости
├── server/               # Express.js backend
│   ├── src/              # Исходный код
│   │   ├── api/          # API роуты
│   │   ├── controllers/  # Контроллеры
│   │   ├── db/           # Модели БД
│   │   ├── middleware/   # Middleware
│   │   └── services/     # Бизнес-логика
│   ├── migrations/       # Миграции БД
│   └── package.json      # Зависимости
├── logs/                 # Логи серверов
├── *.sh                  # Скрипты управления
├── README.md             # Основная документация
├── README-SERVERS.md     # Документация по серверам
└── DEPLOYMENT.md         # Инструкции по развертыванию
```

## 🔒 Безопасность

- **JWT токены** для аутентификации
- **Валидация входных данных**
- **Защита от SQL инъекций** (Sequelize)
- **CORS настройки**
- **Безопасное хранение паролей** (bcrypt)

## 📈 Производительность

- **Кэширование постов** в базе данных
- **Инкрементальная синхронизация**
- **Оптимизированные запросы** к WordPress API
- **Асинхронная обработка** задач
- **Мониторинг ресурсов**

## 🤝 Вклад в проект

Мы приветствуем вклад в развитие проекта! Пожалуйста, ознакомьтесь с нашими рекомендациями:

1. **Fork** репозитория
2. Создайте **feature branch** (`git checkout -b feature/amazing-feature`)
3. **Commit** изменения (`git commit -m 'Add amazing feature'`)
4. **Push** в branch (`git push origin feature/amazing-feature`)
5. Откройте **Pull Request**

## 📄 Лицензия

Этот проект распространяется под лицензией MIT. См. файл [LICENSE](LICENSE) для получения дополнительной информации.

## 🆘 Поддержка

Если у вас возникли вопросы или проблемы:

1. Проверьте [документацию](README-SERVERS.md)
2. Запустите диагностику: `./fix-posts-progress.sh`
3. Создайте [issue](https://github.com/maxbaydi/social-reposter/issues) на GitHub

## 🔗 Полезные ссылки

- [Документация по серверам](README-SERVERS.md)
- [Инструкции по развертыванию](DEPLOYMENT.md)
- [GitHub репозиторий](https://github.com/maxbaydi/social-reposter)

---

**Сделано с ❤️ для автоматизации репостинга** 